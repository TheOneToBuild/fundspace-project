import{r as x,u as N,j as s,X as w,a as m,A as _}from"./index-5NuBycb7.js";function C({isOpen:f,onClose:c,reactors:d,likeCount:h,reactionSummary:p}){const[n,u]=x.useState("all"),[r,i]=x.useState(6),b=N();if(!f)return null;const a=(e=>e==="all"?d:d.filter(l=>l.reaction_type===e))(n),g=a.slice(0,r),j=r<a.length,y=()=>{i(e=>Math.min(e+6,a.length))},v=e=>{e&&(c(),b(`/profile/members/${e}`))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[70vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Reactions"}),s.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(w,{size:20})})]}),s.jsxs("div",{className:"flex items-center space-x-1 px-4 py-2 border-b bg-gray-50 overflow-x-auto",children:[s.jsxs("button",{onClick:()=>{u("all"),i(6)},className:`px-3 py-1 rounded-full text-sm font-medium whitespace-nowrap ${n==="all"?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:bg-gray-100"}`,children:["All ",h]}),p.map(({type:e,count:l})=>{const t=m.find(o=>o.type===e);return t?s.jsxs("button",{onClick:()=>{u(e),i(6)},className:`px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1 whitespace-nowrap ${n===e?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx("div",{className:`p-0.5 rounded-full ${t.color}`,children:s.jsx(t.Icon,{size:10,className:"text-white"})}),s.jsx("span",{children:l})]},e):null})]}),s.jsxs("div",{className:"overflow-y-auto flex-1",children:[g.map((e,l)=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 cursor-pointer",onClick:()=>v(e.profile_id||e.user_id),children:[s.jsx(_,{src:e.avatar_url,fullName:e.full_name,size:"md"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.full_name}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.organization_name||e.role||"No organization"})]}),e.reaction_type&&(()=>{const t=m.find(o=>o.type===e.reaction_type);return t?s.jsx("div",{className:`p-1 rounded-full ${t.color}`,children:s.jsx(t.Icon,{size:12,className:"text-white"})}):null})()]},l)),j&&s.jsx("div",{className:"p-3 border-t bg-gray-50",children:s.jsxs("button",{onClick:y,className:"w-full py-2 text-blue-600 font-medium text-sm",children:["Show more reactions (",a.length-r," remaining)"]})})]})]})})}export{C as default};
